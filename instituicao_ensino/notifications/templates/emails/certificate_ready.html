{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Certificado dispon√≠vel - SGEA</title>
    <style>
      :root {
        --wine: #8b0000;
        --wine2: #b22222;
        --gold: #d4af37;
        --blue: #2b83ff;
      }
      @media only screen and (max-width: 600px) {
        .container {
          width: 100% !important;
        }
        .content {
          padding: 20px !important;
        }
        .header-img {
          height: 80px !important;
        }
        .title {
          font-size: 24px !important;
        }
        .message {
          font-size: 16px !important;
        }
        .btn {
          padding: 12px 24px !important;
          font-size: 16px !important;
        }
      }
    </style>
  </head>
  <body
    style="
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #200303 0%, #350505 100%) no-repeat
        fixed;
      font-family: 'Georgia', 'Times New Roman', serif;
      line-height: 1.6;
      color: #fff7d9;
    "
  >
    <!-- Pre-header text (hidden but shown in some email clients) -->
    <div
      style="
        display: none;
        font-size: 1px;
        line-height: 1px;
        max-height: 0;
        max-width: 0;
        opacity: 0;
        overflow: hidden;
      "
    >
      {% if evento %}Seu certificado do evento "{{ evento.titulo }}" est√°
      dispon√≠vel.{% else %}Seu certificado est√° dispon√≠vel.{% endif %}
    </div>

    <!-- Main container -->
    <table
      role="presentation"
      width="100%"
      border="0"
      cellspacing="0"
      cellpadding="0"
      style="background-color: transparent; padding: 40px 0"
    >
      <tr>
        <td align="center">
          <!-- Content container -->
          <table
            role="presentation"
            class="container"
            width="600"
            border="0"
            cellspacing="0"
            cellpadding="0"
            style="
              background: linear-gradient(135deg, #2d1b1b 0%, #3d2424 100%);
              border-radius: 12px;
              overflow: hidden;
              box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
              border: 2px solid #d4af37;
            "
          >
            <!-- Header with gradient -->
            <tr>
              <td
                style="
                  background: linear-gradient(135deg, var(--wine) 0%, var(--wine2) 100%);
                  padding: 32px 26px 22px;
                  border-bottom: 3px solid #d4af37;
                "
              >
                <table
                  role="presentation"
                  width="100%"
                  border="0"
                  cellspacing="0"
                  cellpadding="0"
                >
                  <tr>
                    <td align="center">
                      <a href="http://127.0.0.1:8000/">
                        <img
                          src="https://github.com/Gustavo-Gomide/SiteEventoEnsina/blob/master/instituicao_ensino/static/favicon.png?raw=true"
                          alt="Logo"
                          class="header-img"
                          width="120"
                          height="auto"
                          style="
                            max-width: 120px;
                            height: auto;
                            margin-bottom: 10px;
                            display: block;
                            filter: drop-shadow(0 2px 2px rgba(0, 0, 0, 0.4));
                          "
                        />
                      </a>
                      <div style="margin-bottom: 10px">
                        <a
                          href="{{ site_url }}"
                          target="_blank"
                          style="
                            color: #ff7f16;
                            text-decoration: none;
                            font-weight: 700;
                            font-size: 15px;
                          "
                          >EventoEnsina</a
                        >
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td align="center">
                      <h1
                        style="
                          margin: 0;
                          color: #ffeaa7;
                          font-size: 32px;
                          font-weight: 700;
                          letter-spacing: -0.3px;
                          text-shadow: 0 1px 0 rgba(0, 0, 0, 0.4);
                        "
                      >
                        Certificado Disponibilizado
                      </h1>
                      <div
                        style="
                          height: 3px;
                          width: 64px;
                          background-color: #d4af37;
                          margin: 14px auto 0;
                        "
                      ></div>
                    </td>
                  </tr>
                </table>
              </td>
            </tr>

            <!-- Greeting -->
            <tr>
              <td class="content" style="padding: 24px 28px 18px">
                <h2
                  style="
                    margin: 0 0 16px 0;
                    color: #ffeaa7;
                    font-size: 26px;
                    font-weight: 700;
                  "
                >
                  ol√°, {{ usuario.nome|default:usuario.nome_usuario }}
                </h2>

                <!-- Main message -->
                <p style="margin: 0 0 20px 0; color: #fffbe6; font-size: 16px">
                  {% if evento %} √â com satisfa√ß√£o que informamos que seu
                  certificado referente ao evento
                  <strong style="color: gold; text-decoration: underline;"
                    >"{{ evento.titulo }}"</strong
                  >
                  foi gerado e est√° dispon√≠vel para acesso. {% else %} √â com
                  satisfa√ß√£o que informamos que seu certificado foi gerado e
                  est√° dispon√≠vel para acesso. {% endif %}
                </p>

                <!-- Certificate details -->
                <table
                  role="presentation"
                  width="100%"
                  border="0"
                  cellspacing="0"
                  cellpadding="0"
                  style="
                    background: linear-gradient(
                      135deg,
                      #2d1b1b 0%,
                      #3d2424 100%
                    );
                    border-radius: 12px;
                    padding: 18px;
                    margin: 18px 0;
                    border: 2px solid #d4af37;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
                  "
                >
                  <tr>
                    <td>
                      <p
                        style="
                          margin: 0;
                          color: #ffeaa7;
                          font-weight: 700;
                          font-size: 14px;
                          margin-bottom: 6px;
                        "
                      >
                        INFORMA√á√ïES DO CERTIFICADO
                      </p>
                      {% if evento %}
                      <p style="margin: 0; color: #fff7d9; font-size: 14px">
                        <strong>Evento:</strong> {{ evento.titulo }}<br />
                        <strong>Status:</strong> Disponibilizado<br />
                        <strong>Data de emiss√£o:</strong> {% now "d/m/Y" %}
                      </p>
                      {% else %}
                      <p style="margin: 0; color: #555; font-size: 14px">
                        <strong>Status:</strong> Disponibilizado<br />
                        <strong>Data de emiss√£o:</strong> {% now "d/m/Y" %}
                      </p>
                      {% endif %}
                    </td>
                  </tr>
                </table>
              </td>
            </tr>

            <!-- CTA Button -->
            {% if cert_url %}
            <tr>
              <td align="center" style="padding: 0 32px 26px">
                <table
                  role="presentation"
                  border="0"
                  cellspacing="0"
                  cellpadding="0"
                >
                  <tr>
                    <td
                      align="center"
                      style="
                        border-radius: 6px;
                        background: #8b0000;
                        border: 2px solid transparent;
                      "
                    >
                      <a
                        href="{{ cert_url }}"
                        style="
                          font-size: 16px;
                          font-weight: 600;
                          color: #fffbe6;
                          text-decoration: none;
                          padding: 14px 28px;
                          display: inline-block;
                          letter-spacing: 0.3px;
                          border-radius: 6px;
                        "
                      >
                        certificado
                      </a>
                    </td>
                  </tr>
                </table>
                <p
                  style="
                    color: #ff7f16;
                    font-size: 14px;
                    margin: 12px 0 0;
                    text-align: center;
                  "
                >
                  Clique para visualizar e baixar seu certificado
                </p>
              </td>
            </tr>
            {% endif %}

            <!-- PDF Notice -->
            <tr>
              <td style="padding: 0 40px 40px">
                <div
                  style="
                    background-color: #f0f8ff;
                    border-radius: 8px;
                    padding: 20px;
                    border: 1px dashed #4a90e2;
                  "
                >
                  <p
                    style="
                      margin: 0 0 10px 0;
                      color: #2c3e50;
                      font-weight: 600;
                      font-size: 14px;
                    "
                  >
                    üìÑ C√≥pia em PDF
                  </p>
                  <p style="margin: 0; color: #555; font-size: 14px">
                    Para sua conveni√™ncia, anexamos uma vers√£o em PDF deste
                    certificado a este e-mail. Recomendamos salv√°-lo em um local
                    seguro para refer√™ncia futura.
                  </p>
                </div>
              </td>
            </tr>

            <!-- Footer -->
            <tr>
              <td
                style="
                  background-color: #0e0e0e;
                  padding: 28px 36px;
                  border-top: 2px solid var(--blue);
                "
              >
                <table
                  role="presentation"
                  width="100%"
                  border="0"
                  cellspacing="0"
                  cellpadding="0"
                >
                  <tr>
                    <td align="center">
                      {% if logo_url %}
                      <a href="http://127.0.0.1:8000/">
                        <img
                          src="https://github.com/Gustavo-Gomide/SiteEventoEnsina/blob/master/instituicao_ensino/static/favicon.png?raw=true"
                          alt="{{ system_name|default:'SGEA' }}"
                          width="60"
                          height="auto"
                          style="
                            max-width: 60px;
                            height: auto;
                            margin-bottom: 15px;
                            opacity: 0.8;
                          "
                        />
                      </a>
                      {% endif %}
                      <p
                        style="
                          margin: 0 0 10px 0;
                          color: #bdc3c7;
                          font-size: 14px;
                        "
                      >
                        <strong>EventoEnsina</strong><br />
                        Sistema de Gest√£o de Eventos Acad√™micos
                      </p>
                      <p style="margin: 0; color: #95a5a6; font-size: 12px">
                        Este √© um e-mail autom√°tico. Por favor, n√£o responda a
                        esta mensagem.
                      </p>
                      <p
                        style="
                          margin: 15px 0 0 0;
                          color: #95a5a6;
                          font-size: 12px;
                        "
                      >
                        ¬© {% now "Y" %} EventoEnsina. Todos os direitos
                        reservados.
                      </p>
                    </td>
                  </tr>
                </table>
              </td>
            </tr>
          </table>

          <!-- Support text below email -->
          <table
            role="presentation"
            width="600"
            border="0"
            cellspacing="0"
            cellpadding="0"
            style="margin-top: 30px"
          >
            <tr>
              <td align="center">
                <p
                  style="
                    margin: 0;
                    color: #7f8c8d;
                    font-size: 12px;
                    line-height: 1.5;
                  "
                >
                  Caso tenha dificuldades para acessar seu certificado ou
                  precise de suporte, entre em contato com nossa equipe atrav√©s
                  do suporte do sistema.
                </p>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
  </body>
</html>
